#include <stdio.h>
#include <stdlib.h>
#ifdef _WIN32
#include <conio.h>
#endif

void logo(void);
void game(void);

#ifndef _WIN32
int getch(void)
{
    char ch;
    ch=getchar();
    clrbuf(); 
    return ch;
} 
#endif

void logo(void)
{
    printf("**********************\n");
    printf("*********Maze*********\n");
    printf("**********************\n");
    printf("\n");
    printf("Press 's' to start\n");
    printf("Press 'q' to quit\n");
}

void game(void)
{
    char a[50][101]={
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃Ｏ　　　　　　　　＃＃＃　　　　　　＃＃＃　　　　　　　　　＃＃＃＃＃　　　　＃＃＃＃＃　＃＃＃＃",
    "＃　＃　＃＃　＃＃　　＃＃＃　　　　＃＃　　　＃＃＃＃＃＃＃　　　　　　　＃＃　＃＃＃＃　　　　　＃",
    "＃　　＃＃　　　＃＃　　　　　　＃　　＃　＃＃＃＃＃＃＃　＃＃　＃＃　＃＃＃＃　　＃＃＃　＃＃＃　＃",
    "＃＃　＃＃＃＃　　＃＃　　＃＃　＃＃　　　＃＃＃＃＃＃　＃＃＃　＃＃＃　　　＃　＃＃＃　　＃　＃　＃",
    "＃　　　　　＃＃　＃＃　＃＃＃　　　＃　　＃＃＃＃＃　　＃＃＃　　　＃＃＃　＃　　　　　＃　　＃　＃",
    "＃＃＃＃＃　　　　＃＃＃＃＃＃　＃＃＃　　　　　＃＃＃　＃＃＃＃＃＃＃＃＃　＃　＃＃　＃＃＃　　　＃",
    "＃＃　＃＃　＃＃＃＃　　＃　　　＃＃＃＃＃　＃＃＃＃＃　＃＃＃　＃＃　＃＃　＃　＃　　＃＃＃　＃＃＃",
    "＃＃＃　　　　　　　　＃＃＃＃＃＃＃＃＃　　＃＃＃　　　＃＃　＃＃＃　　＃＃　　＃　　＃＃＃　＃＃＃",
    "＃＃　　＃　＃＃＃＃＃＃＃＃＃＃＃＃＃＃　＃＃　＃　＃＃＃　＃＃　　＃＃＃　　＃　＃＃＃＃　　＃＃＃",
    "＃＃　＃＃　＃＃　　＃＃＃＃＃＃＃＃＃　　　　　＃　＃＃＃　＃＃　＃＃＃　　＃＃　＃＃＃＃　＃＃＃＃",
    "＃＃　＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃　　　　　　　＃＃＃＃＃　　＃＃＃＃＃　＃　　　　＃＃",
    "＃＃　　　　　　　　　＃＃＃＃＃＃＃　　　　　　＃　　＃＃　＃＃＃　＃　　＃　＃＃＃　　　　＃　＃＃",
    "＃＃＃　＃＃　＃＃＃＃＃＃　　　　　　＃＃　＃＃＃　＃＃＃　＃＃＃　　＃＃＃　＃＃＃　＃＃＃＃　＃＃",
    "＃＃＃　＃＃　＃＃　＃＃＃　＃＃＃　＃＃＃　＃＃　　＃＃＃　　＃＃＃　＃＃　　　　　　＃＃＃＃　＃＃",
    "＃＃＃　＃　　＃　　　　　　＃＃＃　＃＃＃　＃＃　＃＃＃＃＃＃　＃＃＃　＃　＃＃　＃＃　　　＃　＃＃",
    "＃＃　　＃＃　　　＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃　　　＃　＃＃＃＃　＃＃　＃　　　　＃",
    "＃＃　＃＃＃＃＃＃＃＃＃＃　　　　　＃＃＃＃＃＃＃＃＃＃＃＃＃＃　　　　　＃＃＃　　＃　＃＃＃＃＃＃",
    "＃　　＃＃＃　＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　＃＃＃＃　＃　　＃　＃＃＃",
    "＃　＃＃＃＃　＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　＃＃＃＃　　＃＃＃　＃＃＃",
    "＃　　＃＃＃　＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　＃＃＃＃＃　　　　　＃＃＃",
    "＃＃　＃＃＃　　　　　＃＃＃＃＃＃　　　　　＃＃＃＃＃＃＃　　　　　　　　＃＃＃＃＃＃＃＃＃　＃＃＃",
    "＃　　＃＃＃　＃＃＃　＃＃＃＃＃＃　＃＃＃　＃＃＃＃＃＃＃＃＃＃　　＃＃＃＃＃＃＃＃＃＃＃＃　＃＃＃",
    "＃　＃＃＃＃　＃＃＃　＃＃＃＃＃＃　＃＃＃　＃＃＃＃＃＃＃＃＃＃　　＃＃＃＃＃＃＃＃＃＃　　　＃＃＃",
    "＃　＃＃＃＃　＃＃＃　＃＃＃＃＃＃　＃＃＃　＃＃＃＃＃＃＃＃　＃　　＃＃＃＃＃＃＃　＃＃　＃＃＃＃＃",
    "＃　　＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃　　＃＃＃＃＃＃＃＃＃　　　　　＃＃＃＃",
    "＃＃　＃＃＃＃＃＃＃＃　　　＃＃＃＃＃＃＃＃＃＃　　　　　　＃　＃　　＃＃　＃＃＃＃　＃＃＃　＃＃＃",
    "＃＃　　　　　＃＃　　　＃　＃　＃　　　＃＃＃＃　＃＃＃＃　＃　＃＃　＃　　＃＃＃＃　＃＃＃　＃＃＃",
    "＃＃　＃＃＃　＃＃　＃＃＃　　　　　＃　　　＃＃　　＃　＃　　　＃＃　　＃　＃＃　　　＃＃＃　＃＃＃",
    "＃＃　＃＃＃　　　　＃＃＃　＃＃＃＃＃＃　　＃　　＃＃　＃＃　＃＃＃＃＃＃　＃＃　＃＃＃＃＃＃＃＃＃",
    "＃＃　＃＃＃＃　＃　＃＃＃＃＃＃＃＃＃＃　＃　　＃＃＃　　　＃　＃＃＃＃＃　＃＃　　＃＃＃＃　＃＃＃",
    "＃＃　　＃＃　　＃　＃＃＃　　　　　＃＃　　　＃＃＃　　＃＃　＃＃＃　　　　　＃＃　＃＃＃＃　＃＃＃",
    "＃＃＃　　　　＃　　　＃＃　　　　　＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　　　　　＃＃＃＃＃＃＃　＃＃＃",
    "＃＃＃＃　＃＃＃＃＃　＃＃＃＃＃＃＃＃　　＃＃＃＃＃＃　＃＃＃＃＃＃＃　＃＃＃＃＃　　　　　　＃＃＃",
    "＃＃＃＃　＃＃＃＃＃　　　　＃＃　＃＃＃　＃＃＃＃＃＃　　　＃＃＃＃＃　＃＃＃＃＃　　＃＃　　＃＃＃",
    "＃＃＃　　　　＃＃＃＃　＃＃＃＃　　　　　　　　＃＃＃＃　　＃＃　＃　　＃＃＃＃＃　＃＃＃　　　　＃",
    "＃＃＃＃＃＃　＃＃＃＃　　＃　＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　＃　　＃　＃＃＃＃　　＃＃＃＃＃＃　＃",
    "＃＃＃＃＃＃　＃＃＃＃＃＃＃　＃＃＃＃＃＃　　　＃＃＃＃＃＃＃＃＃　　　＃＃＃＃　＃　　　　＃＃　＃",
    "＃＃　　＃＃　＃＃＃　　＃　　＃＃＃＃＃＃＃＃　＃＃＃＃＃＃＃＃＃＃＃　＃＃＃＃＃＃　＃＃＃　＃　＃",
    "＃　　＃　　　　＃＃　　　　＃＃＃＃＃＃　　　　　　＃＃＃　　　　　　＃　＃＃＃　　　＃　　　　　＃",
    "＃　＃＃　＃＃＃＃＃　＃＃＃＃　＃＃＃＃＃＃＃　＃＃＃＃＃＃＃　＃＃　　＃＃＃　　＃＃＃＃＃＃　　＃",
    "＃　　　　＃＃＃＃　　＃＃＃＃　＃＃＃＃＃＃＃　＃＃＃　　　　＃＃＃＃　　＃＃＃　＃　　　　　　　＃",
    "＃　＃＃＃　＃＃＃　＃＃＃＃＃　　＃＃＃＃＃＃　＃＃＃　＃＃　＃＃＃　　＃＃＃＃　　　＃＃＃＃＃　＃",
    "＃　　＃＃＃＃＃　＃＃＃＃＃＃　　＃　　＃＃＃　　　　　＃＃　＃＃＃＃　＃＃＃＃＃　＃＃　　　　　＃",
    "＃＃　＃　＃＃＃　＃＃＃　　＃＃　＃　＃＃＃＃　　＃＃　＃＃　　　＃＃　　　　　　　＃＃　＃＃＃　＃",
    "＃＃　　　　　　　＃＃＃　＃＃　　　＃＃　　　　＃　＃＃＃　＃　　＃＃＃＃＃　＃＃＃＃＃＃＃　＃　＃",
    "＃　　＃　＃＃＃　＃　　＃　　　　＃＃　　＃＃＃＃　＃　　＃＃＃　　＃＃＃＃　＃＃＃＃　　　　＃＃＃",
    "＃　＃＃　　＃＃　＃＃　　　＃＃　　　　　＃＃＃　　＃＃＃＃＃＃＃　　　　　　＃　　　　＃＃　　　＃",
    "＃　＃＃＃　＃＃　　　　＃＃＃＃＃　　　＃＃＃＃　＃＃＃＃＃＃＃＃　　＃＃＃　　　＃＃＃＃＃＃＃　　",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃"};
    int i,x=1,y=2,p=48,q=98;
    char ch;
    system("cls");
    for(i=0;i<50;i++)
        puts(a[i]);
    while(x!=p||y!=q)
    {
        ch=getch();
        if(ch=='s')
        {
            if(a[x+1][y]!=-93)
            {
                a[x][y]=-95;
                a[x][y+1]=-95;
                x++;
                a[x][y]=-93;
                a[x][y+1]=-49;
            }
        }
        if(ch=='w')
        {
           if(a[x-1][y]!=-93)
            {
                a[x][y]=-95;
                a[x][y+1]=-95;
                x--;
                a[x][y]=-93;
                a[x][y+1]=-49;
            }
        }
        if(ch=='a')
        {
           if(a[x][y-2]!=-93)
            {
                a[x][y]=-95;
                 a[x][y+1]=-95;
                a[x][y-1]=-49;
                  a[x][y-2]=-93;
                  y=y-2;
            }
        }
        if(ch=='d')
        {
            if(a[x][y+2]!=-93)
            {
                a[x][y]=-95;
                a[x][y+1]=-95;
                a[x][y+2]=-93;
                a[x][y+3]=-49;
                y=y+2;
            }
        }
        system("cls");
        for(i=0;i<50;i++)
            puts(a[i]);
    }
    system("cls");
    printf("You win!!!\n");
    getch();
    exit(0);
}

int main(void)
{
    #ifdef _WIN32
    system("color f9");
    #endif
    logo();
    char ch=getch();
    if(ch=='s')
        game();
    else if(ch=='q')
        exit(0);
    else;
    getchar();
    return 0;
}
