#include <stdio.h>
#include <stdlib.h>
#ifdef _WIN32
#include <conio.h>
#endif

void logo(void);
void game(void);

#ifndef _WIN32
int getch(void)
{
    char ch;
    ch=getchar();
    clrbuf(); 
    return ch;
} 
#endif

void logo(void)
{
    printf("**********************\n");
    printf("*********Maze*********\n");
    printf("**********************\n");
    printf("\n");
    printf("Press 's' to start\n");
    printf("Press 'q' to quit\n");
}

void game(void)
{
    char a[51][51]={"##################################################",
                    "#O        ###      ###         #####    ##### ####",
                    "# # ## ##  ###    ##   #######       ## ####     #",
                    "#  ##   ##      #  # ####### ## ## ####  ### ### #",
                    "## ####  ##  ## ##   ###### ### ###   # ###  # # #",
                    "#     ## ## ###   #  #####  ###   ### #     #  # #",
                    "#####    ###### ###     ### ######### # ## ###   #",
                    "## ## ####  #   ##### ##### ### ## ## # #  ### ###",
                    "###        #########  ###   ## ###  ##  #  ### ###",
                    "##  # ############## ## # ### ##  ###  # ####  ###",
                    "## ## ##  #########     # ### ## ###  ## #### ####",
                    "## #### ###############       #####  ##### #    ##",
                    "##         #######      #  ## ### #  # ###    # ##",
                    "### ## ######      ## ### ### ###  ### ### #### ##",
                    "### ## ## ### ### ### ##  ###  ### ##      #### ##",
                    "### #  #      ### ### ## ###### ### # ## ##   # ##",
                    "##  ##   #### #################   # #### ## #    #",
                    "## ##########     ##############     ###  # ######",
                    "#  ### ########## ########### ###### #### #  # ###",
                    "# #### ########## ########### ###### ####  ### ###",
                    "#  ### ########## ########### ###### #####     ###",
                    "## ###     ######     #######        ######### ###",
                    "#  ### ### ###### ### ##########  ############ ###",
                    "# #### ### ###### ### ##########  ##########   ###",
                    "# #### ### ###### ### ######## #  ####### ## #####",
                    "#  ###########################  #########     ####",
                    "## ########   ##########      # #  ## #### ### ###",
                    "##     ##   # # #   #### #### # ## #  #### ### ###",
                    "## ### ## ###     #   ##  # #   ##  # ##   ### ###",
                    "## ###    ### ######  #  ## ## ###### ## #########",
                    "## #### # ########## #  ###   # ##### ##  #### ###",
                    "##  ##  # ###     ##   ###  ## ###     ## #### ###",
                    "###    #   ##     ######### ######     ####### ###",
                    "#### ##### ########  ###### ####### #####      ###",
                    "#### #####    ## ### ######   ##### #####  ##  ###",
                    "###    #### ####        ####  ## #  ##### ###    #",
                    "###### ####  # ######## ###### #  # ####  ###### #",
                    "###### ####### ######   #########   #### #    ## #",
                    "##  ## ###  #  ######## ########### ###### ### # #",
                    "#  #    ##    ######      ###      # ###   #     #",
                    "# ## ##### #### ####### ####### ##  ###  ######  #",
                    "#    ####  #### ####### ###    ####  ### #       #",
                    "# ### ### #####  ###### ### ## ###  ####   ##### #",
                    "#  ##### ######  #  ###     ## #### ##### ##     #",
                    "## # ### ###  ## # ####  ## ##   ##       ## ### #",
                    "##       ### ##   ##    # ### #  ##### ####### # #",
                    "#  # ### #  #    ##  #### #  ###  #### ####    ###",
                    "# ##  ## ##   ##     ###  #######      #    ##   #",
                    "# ### ##    #####   #### ########  ###   #######  ",
                    "##################################################",
                    };
    int i,x=1,y=1,p=48,q=49;
    char ch;
    system("cls");
    for(i=0;i<50;i++)
        puts(a[i]);
    while(x!=p||y!=q)
    {
        ch=getch();
        if(ch=='s')
        {
            if(a[x+1][y]!='#')
            {
                a[x][y]=' ';
                x++;
                a[x][y]='0';
            }
        }
        if(ch=='w')
        {
            if(a[x-1][y]!='#')
            {
                a[x][y]=' ';
                x--;
                a[x][y]='0';
            }
        }
        if(ch=='a')
        {
            if(a[x][y-1]!='#')
            {
                a[x][y]=' ';
                y--;
                a[x][y]='0';
            }
        }
        if(ch=='d')
        {
            if(a[x][y+1]!='#')
            {
                a[x][y]=' ';
                y++;
                a[x][y]='0';
            }
        }
        system("cls");
        for(i=0;i<50;i++)
            puts(a[i]);
    }
    system("cls");
    printf("You win!!!\n");
    getch();
    exit(0);
}

int main(void)
{
    #ifdef _WIN32
    system("color f9");
    #endif
    logo();
    char ch=getch();
    if(ch=='s')
        game();
    else if(ch=='q')
        exit(0);
    else;
    getchar();
    return 0;
}
